(()=>{"use strict";function e(e){let t=e.phone.value,n=e.password.value,a={data:{},msg:"",statue:"status"};return t&&n||(a.statue="fail",a.msg="信息不全!"),/^1[356789]\d{9}$/g.test(t)?(a.data={phone:t,password:n},a):(a.status="fail",a.msg="手机号格式不对!",a)}function t({url:e="",type:t="get",isAsync:n=!0,dataType:a="json",data:i="",callback:s=""}){return new Promise(((a,s)=>{let l=null;if(l=window.XMLHttpRequest?new XMLHttpRequest:ActiveXObject("Microsoft.XMLHttp"),l.onreadystatechange=()=>{if(4===l.readyState&&200===l.status){let e=l.responseText;e=JSON.parse(e),a(e)}},"get"===t){let a=[];for(const e in i)a.push(e+"="+i[e]);a=a.join("&"),l.open(t,e+"?"+a,n),l.send()}else l.open(t,e,n),l.send()}))}document.getElementById("Verification");let n=document.getElementsByClassName("SigninPage")[0],a=document.getElementsByClassName("close"),i=document.getElementsByClassName("Signin")[0].getElementsByTagName("span")[0],s=document.getElementsByClassName("Signin")[0].getElementsByTagName("li")[0],l=document.getElementsByClassName("LogIn")[0],o=document.getElementById("LogIn"),c=(document.getElementById("LogInSubmit"),o.getElementsByTagName("span")[0]),r=document.getElementsByClassName("registered")[0],d=document.getElementById("registered"),m=d.getElementsByTagName("span");function g(e){200===e.code&&(i.style.display="none",s.style.display="block",s.innerText=`Hiai! ${e.profile.nickname} 你已登录成功`,n.style.display="none")}let p=d.getElementsByTagName("input"),u=p[0],h=p[1],y=p[3],v=document.getElementsByClassName("ClassificationContent")[0];let f=document.getElementsByClassName("content")[0],N=f.getElementsByClassName("ClassificationList")[0].getElementsByClassName("listLeft")[0].getElementsByTagName("li")[0],C=f.getElementsByClassName("ClassificationList")[0].getElementsByClassName("listRight")[0].getElementsByTagName("li")[0],E=(document.getElementsByClassName("AllCategories")[0],document.getElementsByClassName("RecommendMV")[0]),B=E.getElementsByClassName("listLeft")[0].getElementsByTagName("li")[0],S=E.getElementsByClassName("listRight")[0].getElementsByTagName("li")[0];class ${constructor({allpage:e=1,Pagesize:t=1,nowpage:n=1,dom:a="",callback:i=""}){this.allpage=e,this.Pagesize=t,this.nowpage=n,this.dom=a,this.callback=i}init(){this.renderDom(),this.eventList()}renderDom(){if(this.nowpage>1){let e=document.createElement("div");e.className="prevPage",e.innerText="上一页",this.dom.appendChild(e)}let e=document.createElement("div");if(e.innerText="1",e.className="my-num",1===this.nowpage&&e.classList.add("currentClass"),this.dom.appendChild(e),this.nowpage-3>1){let e=document.createElement("span");e.innerText="...",this.dom.appendChild(e)}for(let e=this.nowpage-2;e<=this.nowpage+2;e++)if(e>1&&e<this.allpage){let t=document.createElement("div");t.innerText=e,t.className="my-num",this.nowpage===e&&t.classList.add("currentClass"),this.dom.appendChild(t)}if(this.nowpage+2<this.allpage-1){let e=document.createElement("span");e.innerText="...",this.dom.appendChild(e)}if(this.allpage>1){let e=document.createElement("div");e.innerText=this.allpage,e.className="my-num",this.nowpage===this.allpage&&e.classList.add("currentClass"),this.dom.appendChild(e)}if(this.nowpage<this.allpage){let e=document.createElement("div");e.innerText="下一页",e.className="nextPage",this.dom.appendChild(e)}}eventList(){let e=document.getElementsByClassName("prevPage")[0],t=document.getElementsByClassName("nextPage")[0],n=document.getElementsByClassName("my-num");e&&(e.onclick=()=>{this.nowpage--,this.dom.innerHTML="",this.init(),this.callback(this.nowpage)}),t&&(t.onclick=()=>{this.nowpage++,this.dom.innerHTML="",this.init(),this.callback(this.nowpage)});for(let e=0;e<n.length;e++)n[e].onclick=()=>{let t=n[e].innerText;this.nowpage=parseInt(t),this.dom.innerHTML="",this.init(),this.callback(this.nowpage)}}}document.getElementsByClassName("AllCategories")[0];let w=document.getElementsByClassName("AllCategoriesList")[0],I=document.getElementsByClassName("AllCategories")[0].getElementsByClassName("Turnpage")[0];let L=document.getElementsByClassName("AllCategoriesList")[0].getElementsByTagName("li"),T=document.getElementsByClassName("AllCategoriesContent")[0];function A(e){let t=function(e){let t="";for(let a=0;a<e.length;a++)t+=`\n        <li id='${e[a].id}'>\n            <div class="top">\n                <img src="${e[a].coverImgUrl}" alt="">\n                <div>\n                    <span>${e[a].trackCount}万</span>\n                    <span>X</span>\n                </div>\n            </div>\n            <div class="bottom">\n                <h5>${n(e[a].tags)}</h5>\n                <span>${e[a].description=null==e[a].description?"嘻嘻嘻":e[a].description}</span>\n            </div>\n        </li>\n        `;function n(e){let t="";for(let n=0;n<e.length;n++)t+=""+e[n];return t}return t}(e.playlists),n=`<h4>${e.cat}</h4><span></span>`+t;T.innerHTML=n,function(){let e=document.getElementsByClassName("AllCategoriesContent")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){let e=this.getElementsByTagName("h5")[0].innerText,t={SongClassificationId:this.getAttribute("id"),Title:e};localStorage.setItem("SongClassificationId",JSON.stringify(t)),window.location.hash="SongClassificationDetails"}}()}function M(e,t,n,a,i){new $({allpage:Math.floor(e/t),Pagesize:t,nowpage:n,dom:a,callback:i}).init()}let b=document.getElementsByClassName("returnHomePage")[0].getElementsByTagName("span")[0];document.getElementsByClassName("content")[0];let k=document.getElementsByClassName("RecommendMV")[0].getElementsByClassName("RecommendMVContent")[0];const P=class{constructor(e,t,n){this.nowpage=e,this.dom=t,this.callback=n}createDom(){let e=document.createElement("div");e.className="PrevMv",e.innerText="上一页",this.dom.appendChild(e);let t=document.createElement("div");t.className="NextMv",t.innerText="下一页",this.dom.appendChild(t)}DomEvent(){let e=document.getElementsByClassName("PrevMv")[0],t=document.getElementsByClassName("NextMv")[0];this.nowpage<1&&(e.style.display="none"),e.onclick=()=>{this.nowpage--,this.nowpage<1?e.style.display="none":e.style.display="block",this.callback(this.nowpage,(function(e,n){t.style.display=e<n?"none":"block"}))},t.onclick=()=>{this.nowpage++,this.nowpage<1?e.style.display="none":e.style.display="block",this.callback(this.nowpage,(function(e,n){t.style.display=e<n?"none":"block"}))}}init(){this.createDom(),this.DomEvent()}};let H=document.getElementsByClassName("AllCategoriesMV")[0],x=H.getElementsByClassName("AllMvContent")[0],R=H.getElementsByClassName("AllCategoriesMVList")[0].getElementsByClassName("AllList"),D=H.getElementsByClassName("AllMvContentPage")[0].getElementsByClassName("Turnpage")[0];function O(e,t){let n=`\n        <div class="title">\n            <h2>${t}</h2>\n        </div>\n         `,a=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div>\n                <img src="${e[n].cover}" alt="">\n                <span>播放量${e[n].playCount}</span>\n            </div>\n            <div>\n                <span>${e[n].artistName}</span>\n                <p>${e[n].name}</p>\n            </div>\n        </li>\n        `;return t}(e.data);x.innerHTML=n+a,function(){let e=document.getElementById("AllCategoriesMv").getElementsByClassName("AllMvContent")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){localStorage.setItem("Mvid",this.getAttribute("id")),window.location.hash="MvPlay"}}()}function U(e,t,n,a,i){new $({allpage:Math.floor(e/t),Pagesize:t,nowpage:n,dom:a,callback:i}).init()}let J=document.getElementsByClassName("upToDateMV")[0],V=document.getElementsByClassName("ProducedbyNetEase")[0],F=document.getElementsByClassName("RankingMv")[0];function _(e,t,n){new P(e,t,n).init()}let z=document.getElementById("AllCategoriesMv").getElementsByClassName("MvreturnContent")[0].getElementsByTagName("span")[0];let X=document.getElementById("MvPlay"),W=X.getElementsByClassName("MvIntroduction")[0],j=X.getElementsByClassName("MvVideo")[0],q=X.getElementsByClassName("MvComment")[0];let Y=document.getElementById("SongDetails");let G=document.getElementById("SinglePlay"),K=G.getElementsByClassName("SingleIntroduction")[0],Q=G.getElementsByClassName("SingleLyrics")[0];function Z(){t({url:"http://47.97.127.65:8002/lyric",type:"get",isAsync:!0,data:{id:localStorage.getItem("SingleId")}}).then((e=>{let n=null==e.lrc?"":function(e){let t=e.split(/\\n/g),n="";for(let e=0;e<t.length;e++)n+=`<p>${t[e].replace('"',"")}</p>`;return`<div class="lrc_content">${n}</div>`}(JSON.stringify(e.lrc.lyric));t({url:"http://47.97.127.65:8002/song/url",type:"get",isAsync:!0,data:{id:localStorage.getItem("SingleId")}}).then((e=>{let t=function(e){return`\n    <div class="box">\n        <div class="cover"></div>\n    </div>\n    <audio id='${e[0].id}' src="${e[0].url}" controls></audio>\n    <div class="menu">\n        <div class="play">播放</div>\n        <div class="time">0.00/0.00</div>\n        <div class="progress_bar">\n            <div></div>\n        </div>\n        <div class="vol_add">音量加</div>\n        <div class="vol_ins">音量减</div>\n    </div>\n    `}(e.data);Q.innerHTML=n+t,function(){let e=void 0===Q.getElementsByClassName("lrc_content")[0]?"":Q.getElementsByClassName("lrc_content")[0].getElementsByTagName("p"),t=Q.getElementsByTagName("audio")[0],n=Q.getElementsByClassName("box")[0].getElementsByClassName("cover")[0];new class{constructor(e,t,n){this.LrcContentP=e,this.Audio=t,this.Cover=n,this.oLrc={ti:"",ar:"",al:"",ms:[]},this.lineNo=0,this.preLine=6,this.lineHeight=-30}LrcContentPData(){for(let e=0;e<this.LrcContentP.length;e++){let t=this.LrcContentP[e].innerText.trim(),n=t.substring(t.indexOf("[")+1,t.indexOf("]")).split(":");if(isNaN(parseInt(n[0])))this.oLrc[n[0]]=n[1];else{let e=t.match(/\[(\d+:.+?)\]/g);for(let n=0;n<e.length;n++){let a=e[n].substring(1,e[n].indexOf("]")).split(":");this.oLrc.ms.push({t:(60*parseInt(a[0])+parseFloat(a[1])).toFixed(3),c:t.substr(t.lastIndexOf("]")+1)})}}}this.oLrc.ms.sort((function(e,t){return e.t-t.t}))}ShowLyrics(){let e=document.createElement("ul");for(let t=0;t<this.oLrc.ms.length;t++){let n=document.createElement("li");n.innerText=this.oLrc.ms[t].c,e.appendChild(n)}this.Cover.appendChild(e)}heightLight(){let e=this.Cover.getElementsByTagName("ul")[0],t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)e==this.lineNo?t[e].classList.add("active"):t[e].classList.remove("active");this.lineNo>this.preLine&&(e.style.top=(this.lineNo-this.preLine)*this.lineHeight+"px")}AudioEvent(){this.Audio.addEventListener("timeupdate",(()=>{if(this.lineNo==this.oLrc.ms.length)return;let e=this.Audio.currentTime,t=this.getLineNo(e);this.lineNo=t,this.heightLight(),this.lineNo++}))}getLineNo(e){if(e>=parseFloat(this.oLrc.ms[this.lineNo].t)){for(let t=this.oLrc.ms.length-1;t>=this.lineNo;t--)if(e>=parseFloat(this.oLrc.ms[t].t))return t}else for(let t=0;t<=this.lineNo;t++)if(e<=parseFloat(this.oLrc.ms[t].t))return t-1}goBack(){this.lineNo=0,this.Cover.getElementsByTagName("ul")[0].style.top="0px",this.heightLight()}AudioEnded(){this.Audio.addEventListener("ended",(()=>{this.goBack()}))}init(){this.LrcContentPData(),this.ShowLyrics(),this.heightLight(),this.AudioEvent(),this.AudioEnded()}}(e,t,n).init()}(),function(){let e=document.getElementsByClassName("SingleLyrics")[0].getElementsByTagName("audio")[0],t=document.getElementsByClassName("SingleLyrics")[0].getElementsByClassName("menu")[0],n=t.getElementsByClassName("play")[0],a=t.getElementsByClassName("time")[0],i=t.getElementsByClassName("progress_bar")[0],s=t.getElementsByClassName("vol_add")[0],l=t.getElementsByClassName("vol_ins")[0],o=null;function c(){o=setInterval((function(){let t=e.duration,n=e.currentTime;a.innerHTML=`${parseInt(n/60)}:${parseInt(n%60)}/${parseInt(t/60)}:${parseInt(t%60)}`;let s=n/t*600;i.getElementsByTagName("div")[0].style.width=s+"px"}),1e3)}n.onclick=function(){e.paused?(e.play(),n.innerHTML="暂停"):(e.pause(),n.innerHTML="播放")},c(),i.onmouseenter=function(){clearInterval(o),o=null,i.onclick=function(t){let n=t.layerX-i.offsetLeft,a=n/i.clientWidth*e.duration;e.currentTime=a,i.getElementsByTagName("div")[0].style.width=n+"px"}},i.onmouseleave=function(){c()},s.onclick=function(){e.volume=e.volume+.1>=1?e.volume=1:e.volume+.1},l.onclick=function(){e.volume=e.volume-.1<=0?e.volume=0:e.volume-.1},n.onselectstart=function(){return!1},a.onselectstart=function(){return!1},s.onselectstart=function(){return!1},l.onselectstart=function(){return!1}}()}))}))}let ee=G.getElementsByClassName("SingleComment")[0];let te=document.getElementById("content").getElementsByClassName("Carousel")[0],ne=te.getElementsByClassName("Img")[0].getElementsByTagName("img"),ae=te.getElementsByClassName("Btns")[0],ie=ae.getElementsByClassName("prev")[0],se=ae.getElementsByClassName("next")[0],le=te.getElementsByClassName("point")[0].getElementsByTagName("span"),oe=null,ce=document.getElementsByClassName("DailyRecommendation")[0].getElementsByClassName("newmusicLi")[0],re=document.getElementsByClassName("MusicSRight")[0],de=re.getElementsByClassName("PopularSingerWrapper")[0];let me=re.getElementsByClassName("PopularSinger")[0].getElementsByClassName("Title")[0].getElementsByTagName("span")[0];function ge(){t({url:"http://47.97.127.65:8002/top/artists",type:"get",isAsync:!0,data:{limit:17}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div class="Img">\n                <img src="${e[n].picUrl}" alt="">\n            </div>\n            <div id='${e[n].id}' class="name">\n                <span>${e[n].name}</span>\n            </div>\n        </li>\n        `;return t}(e.artists);de.innerHTML=t,function(e){let t=de.getElementsByTagName("li");for(let n=0;n<t.length;n++)t[n].onclick=function(){let t={PopularSingerId:this.getAttribute("id"),PopularSingerImg:e[n].picUrl,PopularSingerName:e[n].name};localStorage.setItem("PopularSingerId",JSON.stringify(t)),window.location.hash="SingerHomepage"}}(e.artists)})),me.onclick=function(){window.location.hash="SingerCategory"}}let pe=document.getElementsByClassName("MusicSRight")[0].getElementsByClassName("UserDetails")[0];let ue=document.getElementById("SingerHomepage"),he=ue.getElementsByClassName("contentList")[0].getElementsByTagName("li"),ye=ue.getElementsByClassName("SingerHomepageContent")[0],ve=ue.getElementsByClassName("ImgName")[0];function fe(e){for(let e=0;e<he.length;e++)he[e].style.borderBottom="2px solid transparent";he[e].style.borderBottom="2px solid black"}function Ne(){t({url:"http://47.97.127.65:8002/artists",type:"get",isAsync:!0,data:{id:JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerId}}).then((e=>{let t=function(e){let t="";for(let a=0;a<e.length;a++){let i=Math.floor(Number(e[a].dt)/1e3/60),s=Math.floor(Number(e[a].dt/1e3)-60*i);t+=`\n        <li>\n            <span>${a+1}</span>\n            <span class="SingerName">${e[a].name}</span>\n            <span Features='play' id="${e[a].id}" class='iconfont icon-bofang'></span>\n            <span>${i}:${s}</span>\n            <span>\n                ${n(e[a].ar)}\n            </span>\n            <span id="${e[a].al.id}">${e[a].al.name}</span>\n        </li>\n        `}function n(e){let t="";for(let n=0;n<2;n++)t+=`<text id='${null==e[n]?"":e[n].id}'>${null==e[n]?"":e[n].name}&nbsp;</text>`;return t}return`<div class="PopularWorks">${t}</div>`}(e.hotSongs);ye.innerHTML=t,ye.getElementsByClassName("PopularWorks")[0].addEventListener("click",(function(e){"play"===e.target.getAttribute("Features")&&(localStorage.setItem("SingleId",e.target.getAttribute("id")),window.location.hash="SinglePlay")}))}))}let Ce=[{area:7,type:1},{area:7,type:2},{area:7,type:3},{area:96,type:1},{area:96,type:2},{area:96,type:3},{area:8,type:1},{area:8,type:2},{area:8,type:3},{area:16,type:1},{area:16,type:2},{area:16,type:3},{area:0,type:1},{area:0,type:2},{area:0,type:3}],Ee=document.getElementById("SingerCategory"),Be=Ee.getElementsByClassName("SingerCategoryRight")[0],Se=Be.getElementsByClassName("SingerCategoryRightContent")[0],$e=Be.getElementsByClassName("SingerCategoryRightPage")[0],we=Ee.getElementsByClassName("SingerCategoryLeft")[0].getElementsByTagName("dd");function Ie(e){let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div class="Img">\n                <img src="${e[n].img1v1Url}" alt="">\n            </div>\n            <div class="title">\n                <div class="name">${e[n].name}</div>\n                <div class="transNames">${e[n].trans}</div>\n            </div>\n        </li>\n        `;return t}(e.artists);Se.innerHTML=t,function(e){let t=Be.getElementsByClassName("SingerCategoryRightContent")[0].getElementsByTagName("li");for(let n=0;n<t.length;n++)t[n].onclick=function(){$e.innerHTML="";let t={PopularSingerId:this.getAttribute("id"),PopularSingerImg:e[n].picUrl,PopularSingerName:e[n].name};localStorage.setItem("PopularSingerId",JSON.stringify(t)),window.location.hash="SingerHomepage"}}(e.artists)}let Le=Be.getElementsByClassName("LetterCategory")[0].getElementsByTagName("li");function Te(e){for(let n=0;n<Le.length;n++)Le[n].onclick=function(){let a=Le[n].getAttribute("id");t({url:"http://47.97.127.65:8002/artist/list",type:"get",isAsync:!0,data:{type:e.type,area:e.area,initial:a}}).then((t=>{Ie(t),$e.innerHTML="",Ae(e)}))}}function Ae(e){new P(0,$e,(function(n,a){console.log(n),t({url:"http://47.97.127.65:8002/artist/list",type:"get",isAsync:!0,data:{type:e.type,area:e.area,limit:30,offset:30*n}}).then((e=>{Ie(e),a(e.artists.length,30)}))})).init()}let Me=document.getElementsByClassName("headerRight")[0].getElementsByClassName("search")[0],be=Me.getElementsByTagName("input")[0],ke=Me.getElementsByTagName("span")[0],Pe=document.getElementById("searchList").getElementsByClassName("searchListContent")[0];function He(e){t({url:"http://47.97.127.65:8002/cloudsearch",type:"get",isAsync:!0,data:{keywords:e}}).then((e=>{console.log(e);let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li>\n            <span class="SongName">${e[n].name}</span>\n            <span Features='play' id="${e[n].id}" class='iconfont icon-bofang'></span>\n            <span>${e[n].dt}</span>\n            <span id="${e[n].ar[0].id}">${e[n].ar[0].name}</span>\n            <span id="${e[n].al.id}">${e[n].al.name}</span>\n        </li>\n        `;return t}(e.result.songs);Pe.innerHTML=t,Pe.addEventListener("click",(function(e){"play"===e.target.getAttribute("Features")&&(localStorage.setItem("SingleId",e.target.getAttribute("id")),window.location.hash="SinglePlay")}))}))}!function(){for(let e=0;e<a.length;e++)a[e].onclick=function(){n.style.display="none"}}(),i.onclick=function(){n.style.display="block"},c.onclick=function(){l.style.display="none",r.style.display="block"},m[1].onclick=function(){l.style.display="block",r.style.display="none"},o.onsubmit=function(n){n.preventDefault();let a=e(o);""!=a.msg?alert("信息不全或则格式不对!"):t({url:"http://47.97.127.65:8002/login/cellphone",type:"get",isAsync:!0,data:{phone:a.data.phone,password:a.data.password}}).then((function(e){sessionStorage.setItem("LoginData",JSON.stringify(e)),g(e)}))},function(){let e=JSON.parse(sessionStorage.getItem("LoginData"));e&&g(e)}(),d.onsubmit=function(n){n.preventDefault();let a=e(d);t({url:"http://47.97.127.65:8002/register/cellphone",type:"get",isAsync:!0,data:{nickname:u.value,phone:a.data.phone,password:a.data.password,captcha:y.value}}).then((function(e){alert("注册成功请登入"),l.style.display="block",r.style.display="none"}))},m[0].onclick=function(){t({url:"http://47.97.127.65:8002/captcha/sent",type:"get",isAsync:!0,data:{phone:h.value}}).then((function(e){}))},t({url:"http://47.97.127.65:8002/personalized",type:"get",isAsync:!0,data:{limit:8}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}' name='${e[n].name}'>\n        <div>\n            <img src="${e[n].picUrl}" alt="">\n            <span>${e[n].trackCount}万</span>\n        </div>\n        <div>\n            <p>${e[n].copywriter}</p>\n        </div>\n    </li>\n        `;return t}(e.result);v.innerHTML=t,function(){let e=document.getElementsByClassName("ClassificationContent")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){let e={SongClassificationId:this.getAttribute("id"),Title:this.getAttribute("name")};localStorage.setItem("SongClassificationId",JSON.stringify(e)),window.location.hash="SongClassificationDetails"}}()})),N.onclick=function(){window.location.hash="AllCategories"},C.onclick=function(){window.location.hash="AllCategories"},B.onclick=function(){window.location.hash="AllCategoriesMv"},S.onclick=function(){window.location.hash="AllCategoriesMv"},window.addEventListener("hashchange",(function(e){"#AllCategories"===window.location.hash&&(t({url:"http://47.97.127.65:8002/playlist/catlist",type:"get",isAsync:!0}).then((function(e){let n=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li name=${e[n].name}>${e[n].name}</li>\n        `;return t}(e.sub);w.innerHTML=n,function(){for(let e=0;e<L.length;e++)L[e].onclick=function(){let e=this.getAttribute("name");t({url:"http://47.97.127.65:8002/top/playlist",type:"get",isAsync:!0,data:{limit:30,cat:e}}).then((n=>{A(n),I.innerHTML="",M(n.total,30,1,I,(function(n){t({url:"http://47.97.127.65:8002/top/playlist",type:"get",isAsync:!0,data:{limit:30,offset:30*n,cat:e}}).then((e=>{A(e)}))}))}))}}()})),t({url:"http://47.97.127.65:8002/top/playlist",type:"get",isAsync:!0,data:{limit:30,cat:"综艺"}}).then((e=>{A(e),I.innerHTML="",M(e.total,30,1,I,(function(e){t({url:"http://47.97.127.65:8002/top/playlist",type:"get",isAsync:!0,data:{limit:30,offset:30*e,cat:"综艺"}}).then((e=>{A(e)}))}))})),b.onclick=function(){window.location.hash="content"})})),t({url:"http://47.97.127.65:8002/personalized/mv",type:"get",isAsync:!0}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div>\n                <img src="${e[n].picUrl}" alt="">\n                <span>${e[n].playCount}</span>\n            </div>\n            <div>\n                <span>${e[n].name}</span>\n                <p>${e[n].copywriter}</p>\n            </div>\n        </li>\n        `;return t}(e.result);k.innerHTML=t,function(){let e=document.getElementById("content").getElementsByClassName("RecommendMV")[0].getElementsByClassName("RecommendMVContent")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){localStorage.setItem("Mvid",this.getAttribute("id")),window.location.hash="MvPlay"}}()})),window.addEventListener("hashchange",(function(e){"#AllCategoriesMv"===window.location.hash&&(t({url:"http://47.97.127.65:8002/mv/all",type:"get",isAsync:!0,data:{limit:30,offset:0}}).then((e=>{O(e,"全部"),D.innerHTML="",U(e.count,30,1,D,(function(e){t({url:"http://47.97.127.65:8002/mv/all",type:"get",isAsync:!0,data:{limit:30,offset:30*e}}).then((e=>{O(e,"全部")}))}))})),function(){for(let e=0;e<R.length;e++){let n=R[e].innerText;R[e].onclick=function(){t({url:"http://47.97.127.65:8002/mv/all",type:"get",isAsync:!0,data:{area:n,limit:30,offset:0}}).then((e=>{O(e,n),D.innerHTML="",U(e.count,30,1,D,(function(e){t({url:"http://47.97.127.65:8002/mv/all",type:"get",isAsync:!0,data:{area:n,limit:30,offset:30*e}}).then((e=>{O(e,n)}))}))}))}}}(),J.onclick=function(){t({url:"http://47.97.127.65:8002/mv/first",type:"get",isAsync:!0,data:{limit:30}}).then((e=>{O(e,"最新MV"),D.innerHTML=""}))},V.onclick=function(){t({url:"http://47.97.127.65:8002/mv/exclusive/rcmd",type:"get",isAsync:!0,data:{limit:30}}).then((e=>{O(e,"网易出品MV"),D.innerHTML="",_(0,D,(function(e,n){t({url:"http://47.97.127.65:8002/mv/exclusive/rcmd",type:"get",isAsync:!0,data:{limit:30,offset:30*e}}).then((e=>{n(e.data.length,30),O(e,"网易出品MV")}))}))}))},F.onclick=function(){t({url:"http://47.97.127.65:8002/top/mv",type:"get",isAsync:!0,data:{limit:30}}).then((e=>{O(e,"MV排行"),D.innerHTML="",_(0,D,(function(e,n){t({url:"http://47.97.127.65:8002/top/mv",type:"get",isAsync:!0,data:{limit:30,offset:30*e}}).then((e=>{n(e.data.length,30),O(e,"MV排行")}))}))}))},z.onclick=function(){window.location.hash="content"})})),window.addEventListener("hashchange",(function(){"#MvPlay"==window.location.hash&&(t({url:"http://47.97.127.65:8002/mv/detail",type:"get",isAsync:!0,data:{mvid:localStorage.getItem("Mvid")}}).then((e=>{let t=function(e){return`\n    <div class="Img">\n        <img src="${e.cover}" alt="">\n    </div>\n    <div class="Title">\n        <div class="name">\n            <span id='${e.id}'>${e.name}</span>\n        </div>\n        <div class="artistName">\n            <span>歌手</span>\n            <span  id="${e.artistId}">${e.artistName}</span>\n        </div>\n        <div class="artists">\n            <span id="${e.artists[0].id}">创作:${e.artists[0].name}</span>\n        </div>\n    </div>\n    `}(e.data);W.innerHTML=t})),t({url:"http://47.97.127.65:8002/mv/url",type:"get",isAsync:!0,data:{id:localStorage.getItem("Mvid")}}).then((e=>{let t=function(e){return`<div class="play">\n         <video controls src="${e.url}"></video>\n     </div>`}(e.data);j.innerHTML=t})),t({url:"http://47.97.127.65:8002/comment/mv",type:"get",isAsync:!0,data:{id:localStorage.getItem("Mvid")}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n            <li>\n                <div class="Img">\n                    <img src="${e[n].user.avatarUrl}" alt="">\n                </div>\n                <div class="commentText">\n                    <span id='${e[n].user.userId}' class="name">${e[n].user.nickname}</span>\n                    <p>${e[n].content}</p>\n                    <div class="Reply">\n                        <p>${null==e[n].beReplied[0]?"":e[n].beReplied[0].user.nickname+":"}${null==e[n].beReplied[0]?"":e[n].beReplied[0].content}</p>\n                        <input type="text">\n                        <span>回复</span>\n                        <span>发送</span>\n                    </div>\n                </div>\n            </li>\n            `;return'<div class="SingleCommentTitle">评论区</div>'+t}(e.comments);q.innerHTML=t})))})),window.addEventListener("hashchange",(function(){if("#SongClassificationDetails"===window.location.hash){let e=localStorage.getItem("SongClassificationId"),n=JSON.parse(e),a=document.getElementById("SongClassificationDetails");t({url:"http://47.97.127.65:8002/related/playlist",type:"get",isAsync:!0,data:{id:n.SongClassificationId}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div class="Img">\n                <img src="${e[n].coverImgUrl}" alt="">\n            </div>\n            <div class="Songcontent">\n                <div class="creator">\n                    <span>${e[n].creator.nickname}</span>\n                </div>\n                <div class="name">\n                    ${e[n].name}\n                </div>\n            </div>\n        </li>\n        `;return t}(e.playlists),i=`\n                        <div class="ReturnPage">\n                            <span>返回首页</span>\n                            <span>返回歌单分类页</span>\n                        </div>\n                        <div class="title">\n                            <h2>${n.Title}</h2>\n                        </div>`+t;a.innerHTML=i,function(){let e=document.getElementById("SongClassificationDetails").getElementsByClassName("ReturnPage")[0].getElementsByTagName("span");e[0].onclick=function(){window.location.hash="content"},e[1].onclick=function(){window.location.hash="AllCategories"}}(),function(){let e=document.getElementById("SongClassificationDetails").getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){localStorage.setItem("SongListId",this.getAttribute("id")),window.location.hash="SongDetails"}}()}))}})),window.addEventListener("hashchange",(function(){"#SongDetails"===window.location.hash&&t({url:"http://47.97.127.65:8002/playlist/detail",type:"get",isAsync:!0,data:{id:localStorage.getItem("SongListId")}}).then((e=>{let n=function(e){return`\n    <div class="description">\n            <div class="descriptionImg">\n                <img src="${e.coverImgUrl}" alt="">\n            </div>\n            <div class="descriptionText">\n                <div id='${e.userId}' class="name">\n                    ${e.name}\n                </div>\n                <div class="tags">\n                    ${function(e){let t="";for(let n=0;n<e.length;n++)t+=`<span>${e[n]}</span>`;return t}(e.tags)}\n                </div>\n                <div class="Text">\n                    ${e.description}\n                </div>\n            </div>\n    </div>\n    `}(e.playlist),a=function(e){let t="";for(let n=0;n<e.length;n++)t+=` \n        <li>\n            <span class="SongName">${e[n].name}</span>\n            <span Features='play' id="${e[n].id}" class='iconfont icon-bofang'></span>\n            <span>${parseInt(e[n].dt/60/1e3)}:${parseInt(e[n].dt%60)}</span>\n            <span id="${e[n].ar[0].id}">${e[n].ar[0].name}</span>\n            <span id="${e[n].al.id}">${e[n].al.name}</span>\n        </li>\n        `;return`<div class="SongList">${t}</div>`}(e.playlist.tracks);Y.innerHTML=n+'<div class="SongNameList">\n            <span class="SongName">歌名</span>\n            <span></span>\n            <span>时长</span>\n            <span>歌手</span>\n            <span>专辑</span>\n            </div>'+a,t({url:"http://47.97.127.65:8002/comment/playlist",type:"get",isAsync:!0,data:{id:localStorage.getItem("SongListId")}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li>\n            <div class="Img">\n                <img src="${e[n].user.avatarUrl}" alt="">\n            </div>\n            <div class="commentText">\n                <span id='${e[n].user.userId}' class="name">${e[n].user.nickname}</span>\n                <p>${e[n].content}</p>\n                <div class="Reply">\n                    <p>${null==e[n].beReplied[0]?"":e[n].beReplied[0].user.nickname+":"}${null==e[n].beReplied[0]?"":e[n].beReplied[0].content}</p>\n                    <input type="text">\n                    <span>回复</span>\n                    <span>发送</span>\n                </div>\n            </div>\n        </li>\n        `;return`\n    <div class="commentPlaylist">\n        <div class="PlaylsitTitle">评论区</div>\n        ${t}\n    </div>\n    `}(e.comments);Y.innerHTML=Y.innerHTML+t,function(){let e=document.getElementsByClassName("commentPlaylist")[0];e.getElementsByClassName("commentText"),e.addEventListener("click",(function(e){e.target.innerText}))}(),document.getElementById("SongDetails").getElementsByClassName("SongList")[0].addEventListener("click",(function(e){"play"===e.target.getAttribute("Features")&&(localStorage.setItem("SingleId",e.target.getAttribute("id")),window.location.hash="SinglePlay")}))}))}))})),window.addEventListener("hashchange",(function(){"#SinglePlay"===window.location.hash&&(t({url:"http://47.97.127.65:8002/song/detail",type:"get",isAsync:!0,data:{ids:localStorage.getItem("SingleId")}}).then((e=>{let t=function(e){return`\n        <div class="IntroductionLeft">\n            <img src="${e[0].al.picUrl}" alt="">\n        </div>\n        <div class="IntroductionRight">\n            <div class="name">${e[0].name}</div>\n            <div class="ar">\n                <span id='${e[0].ar[0].id}'>${e[0].ar[0].name}</span>\n            </div>\n            <div class="alia">\n                ${function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n            <span>${e[n]}</span>\n            `;return t}(e[0].alia)}\n            </div>\n            <div class="al">\n                <span>专辑:</span>\n                <span id='${e[0].al.id}'>${e[0].al.name}</span>\n            </div>\n        </div>\n    `}(e.songs);K.innerHTML=t})),Z(),t({url:"http://47.97.127.65:8002/comment/music",type:"get",isAsync:!0,data:{id:localStorage.getItem("SingleId")}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li>\n            <div class="Img">\n                <img src="${e[n].user.avatarUrl}" alt="">\n            </div>\n            <div class="commentText">\n                <span id='${e[n].user.userId}' class="name">${e[n].user.nickname}</span>\n                <p>${e[n].content}</p>\n                <div class="Reply">\n                    <p>${null==e[n].beReplied[0]?"":e[n].beReplied[0].user.nickname+":"}${null==e[n].beReplied[0]?"":e[n].beReplied[0].content}</p>\n                    <input type="text">\n                    <span>回复</span>\n                    <span>发送</span>\n                </div>\n            </div>\n        </li>\n        `;return'<div class="SingleCommentTitle">评论区</div>'+t}(e.comments);ee.innerHTML=t})))})),function(){let e=50;function t(){clearInterval(oe),oe=null,oe=setInterval((()=>{e++,n(e)}),1500)}function n(e){for(let t=0;t<ne.length;t++)ne[t].style.opacity=0,le[t].style.backgroundColor="transparent",t==e%3&&(ne[t].style.opacity=.6,le[t].style.backgroundColor="rgba(0,0,0,.6)");te.style.backgroundImage=e%3==0?"linear-gradient(to right, rgba(40, 40, 68, 0.3), rgb(38, 34, 49))":e%3==1?"linear-gradient(to right, rgba(0,0,0,.3), rgba(0,0,0,.8))":"linear-gradient(to right, rgba(163, 24, 59, 0.3), rgb(63, 41, 41))",e>=1e3&&(e=0),e<=0&&(e=50)}t(),ae.onmouseenter=function(){clearInterval(oe),oe=null,ie.onclick=function(){e--,n(e)},se.onclick=function(){e++,n(e)}},ae.onmouseleave=function(){t()},ie.onselectstart=function(){return!1},se.onselectstart=function(){return!1}}(),t({url:"http://47.97.127.65:8002/personalized/newsong",type:"get",isAsync:!0}).then((function(e){let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n            <li id='${e[n].id}'>\n                <span>\n                    <img src="${e[n].picUrl}" alt="">\n                </span>\n                <span class="name">${e[n].name}</span>\n                <span id='${e[n].id}' bf='BF' class='iconfont icon-bofang'></span>\n                <span id="${e[n].song.artists[0].id}">${e[n].song.artists[0].name}</span>\n            </li>\n            `;return t}(e.result);ce.innerHTML=t,document.getElementsByClassName("DailyRecommendation")[0].getElementsByClassName("newmusicLi")[0].addEventListener("click",(function(e){"BF"===e.target.getAttribute("bf")&&(localStorage.setItem("SingleId",e.target.getAttribute("id")),window.location.hash="SinglePlay")}))})),ge(),t({url:"http://47.97.127.65:8002/user/detail",type:"get",isAsync:!0,data:{uid:3925512365}}).then((e=>{let t=function(e){return`\n    <h3>用户详情</h3>\n    <div class="Img">\n        <img src="${e.avatarUrl}" alt="">\n    </div>\n    <div class="title">${e.nickname}</div>\n    <div class="dynamic">\n        <span>${e.authority}动态</span>\n        <span>${e.follows}关注</span>\n        <span>${e.eventCount}粉丝</span>\n    </div>\n    `}(e.profile);pe.innerHTML=t})),window.addEventListener("hashchange",(function(){!function(){let e=`\n    <div class="name">${JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerName}</div>\n    <div class="Img">\n        <img src="${JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerImg}" alt="">\n    </div>\n    `;ve.innerHTML=e}(),Ne(),function(){for(let e=0;e<he.length;e++)he[e].onclick=function(){switch(fe(e),e){case e=0:Ne();break;case e=1:t({url:"http://47.97.127.65:8002/artist/album",type:"get",isAsync:!0,data:{id:JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerId,limit:30}}).then((e=>{let t=function(e){let t="";for(let a=0;a<e.length;a++){var n=new Date(e[a].publishTime);let i=n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate())+" ";t+=`\n        <li id='${e[a].id}'>\n            <div class="img">\n                <img src="${e[a].picUrl}" alt="">\n            </div>\n            <div class="artistInformation">\n                <div class="name">${e[a].name}</div>\n                <div class="time">${i}</div>\n            </div>\n        </li>\n        `}return`<div class="Allalbums">${t}</div>`}(e.hotAlbums);ye.innerHTML=t,function(){let e=ye.getElementsByClassName("Allalbums")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){localStorage.setItem("SongListId",this.getAttribute("id")),window.location.hash="SongDetails"}}()}));break;case e=2:t({url:"http://47.97.127.65:8002/artist/mv",type:"get",isAsync:!0,data:{id:JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerId}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li id='${e[n].id}'>\n            <div class="img">\n                <img src="${e[n].imgurl}" alt="">\n            </div>\n            <div class="artistInformation">\n                <div class="name">${e[n].name}</div>\n            </div>\n        </li>\n        `;return`<div class='RelatedMv'>${t}</div>`}(e.mvs);ye.innerHTML=t,function(){let e=ye.getElementsByClassName("RelatedMv")[0].getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].onclick=function(){localStorage.setItem("Mvid",this.getAttribute("id")),window.location.hash="MvPlay"}}()}));break;case e=3:t({url:"http://47.97.127.65:8002/artist/desc",type:"get",isAsync:!0,data:{id:JSON.parse(localStorage.getItem("PopularSingerId")).PopularSingerId}}).then((e=>{let t=function(e){let t="";for(let n=0;n<e.length;n++)t+=`\n        <li>\n            <span>${e[n].ti}</span>\n            <p>${e[n].txt}</p>\n        </li>\n        `;return`<div class="ArtistIntroduction">${t}</div>`}(e.introduction);ye.innerHTML=t}))}}}()})),window.addEventListener("hashchange",(function(){"#SingerCategory"===window.location.hash&&(t({url:"http://47.97.127.65:8002/artist/list",type:"get",isAsync:!0,data:{type:1,area:7,initial:-1}}).then((e=>{Ie(e),Te({area:7,type:1}),Ae({area:7,type:1})})),function(){for(let e=0;e<we.length;e++)we[e].onclick=function(){var n;t({url:"http://47.97.127.65:8002/artist/list",type:"get",isAsync:!0,data:{type:(n=Ce[e]).type,area:n.area}}).then((e=>{Ie(e),$e.innerHTML="",Ae(n)})),Te(Ce[e])}}())})),be.onkeydown=function(e){"Enter"===e.code&&(He(be.value),window.location.hash="searchList")},ke.onclick=function(){He(be.value),window.location.hash="searchList"},window.location.hash="content"})();